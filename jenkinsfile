pipeline {
    agent any
    stages {
        stage ('checkout') {
            steps {
                sh '''
                ls
                echo "hi amar"
                '''
            }
        }
        stage ('test') {
            steps {
                sh '''
                #!/bin/bash
                echo "hi"
                '''
            }
        }  
        stage ('build') {
            steps {
                catchError (buildResult : 'success', stageResult:'failure') {
                sh '''
                mvn clean install
                exit 1
                '''
            }
            }
        }
    }
}